---
title: "Non-Parametric Inference Procedures"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Checking for Normality


*  A normal distribution is often a reasonable model for continuous data. However, without inspecting the data, it is risky to assume a normal distribution. *   There are a number of graphical methods, for example histogram and boxplots, that can be used to indicate deviations of the data from the normal distribution. 
	
%*   A histogram is an example of a graph that can be used to check normality. Here, the histogram should reveal a bell shaped curve. 


\begin{figure}[h!]
	\centering
	\includegraphics[width=0.55\linewidth]{images/normal}
\end{figure}


### Normal Probability Plots (a.k.a Q-Q Plots) 


*  The most useful tool for assessing normality is a quantile quantile or QQ plot. This is a scatterplot with the quantiles of the scores on the horizontal axis and the expected normal scores on the vertical axis. 
	
*   The steps in constructing a QQ plot are as follows: 
	
	
	*   The data is sorted from smallest to largest. A plot of these scores against the expected normal scores should reveal a straight line. *  The expected normal scores are calculated by taking the z-scores  where I is the rank in increasing order.
	
	
*   Curvature of the points indicates departures of normality. *   This plot is also useful for detecting outliers. The outliers appear as points that are far away from the overall pattern op points

## Graphical Methodsv


*  The quantile-quantile (QQ) plot is an excellent way to see whether the data deviate from normal (the plot can be set up to see if the data deviate from other distributions as well but here we are only interested in the normal distribution). The process SPSS goes through for creating a QQ plot involves determining what proportion of the 'observed' scores fall below any one score, then the z score that would fit that proportion if the data were normally distributed is calculated, and finally that z score that would cut off that proportion (the 'expected normal value') is translated back into the original metric to see what raw score that would be. 
	
*  A scatter plot is then created that shows the relationship between the actual 'observed' values and what those values would be 'expected' to be if the data were normally distributed. 
*  Interpretation is straightforward: if the data are normally distributed then the circles on the resulting plot (each circle representing a score) will form a straight line. 



### Normal Probability Plots


*  A histogram is an example of a graph that can be used to check normality. *  Here, the histogram should reveal a bell shaped curve. 

\begin{figure}
\centering
\includegraphics[width=0.7\linewidth]{images/LargeXNormHist}
\caption{}
\label{fig:largexnormhist}
\end{figure}



\begin{figure}
\centering
\includegraphics[width=0.7\linewidth]{images/LargeXNotNormHist}
\label{fig:LargeXNotNormHist}
\end{figure}




*  The most useful tool for assessing normality is a \textit{\textbf{quantile -quantile}} or \textbf{Q-Q} plot. *  This is a scatterplot with the quantiles of the scores on the horizontal axis and the equivalent values expected when assuming the normal distribution, on the vertical axis. 




*  The steps in constructing a QQ plot are as follows: First, we sort the data from smallest to largest. 
*  A plot of these scores against the expected normal scores should reveal a straight line. *  The expected normal scores are calculated by taking the z-scores  where I is the rank in increasing order.





*  Curvature of the points indicates departures of normality. This plot is also useful for detecting outliers. The outliers appear as points that are far away from the overall pattern op points


---------------------------------

########################

# Testing for Normality.

# In statistics, a Q-Q plot ("Q" stands for quantile) is a probability plot, which is a
# graphical method for comparing two probability distributions by plotting their quantiles
# against each other. If the two distributions being compared are similar, the points in the
# Q-Q plot will approximately lie on the line y = x. A norm Q-Q plot compares the sample
# distribution against a normal distribution.

qqnorm(iris$Sepal.Width)
qqline(iris$Sepal.Width)

#############################################################

# Shapiro Wilk Test for Normality

shapiro.test( iris$Sepal.Width )
shapiro.test( iris$Petal.Width )
shapiro.test( iris$Sepal.Length )
shapiro.test( iris$Petal.Length )



#############################################################

iris %>% select(1:4) %>% map(shapiro.test)
